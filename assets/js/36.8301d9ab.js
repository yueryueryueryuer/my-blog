(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{395:function(a,t,s){"use strict";s.r(t);var n=s(27),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"parallels-desktop-安装-kali-和基础配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parallels-desktop-安装-kali-和基础配置"}},[a._v("#")]),a._v(" Parallels Desktop 安装 kali 和基础配置")]),a._v(" "),s("p",[a._v("软件下载及版本：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("Parallels Desktop 15.1.4")]),a._v("："),s("a",{attrs:{href:"https://pan.baidu.com/s/1T74lJZC7P2vAzLULhGbmgg",target:"_blank",rel:"noopener noreferrer"}},[a._v("Parallels Desktop 15.1.4 (47270)"),s("OutboundLink")],1),a._v(" 密码: 8khn")]),a._v(" "),s("li",[s("code",[a._v("kali-2020.3")]),a._v("："),s("a",{attrs:{href:"https://www.kali.org/downloads/",target:"_blank",rel:"noopener noreferrer"}},[a._v("kali-linux-2020.3-installer-amd64.iso 官网地址"),s("OutboundLink")],1),a._v(" 或 "),s("a",{attrs:{href:"http://old.kali.org/kali-images/",target:"_blank",rel:"noopener noreferrer"}},[a._v("历史 kali 镜像"),s("OutboundLink")],1)])]),a._v(" "),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("h3",{attrs:{id:"切换-root-用户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换-root-用户"}},[a._v("#")]),a._v(" 切换 root 用户")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("su")]),a._v(" -\n")])])]),s("h3",{attrs:{id:"添加源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加源"}},[a._v("#")]),a._v(" 添加源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/apt/sources.list\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("说明")]),a._v(" "),s("p",[a._v("官方源会自动选择最近的源，所以只需设置官方源即可")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 官方源")]),a._v("\ndeb http://http.kali.org/kali kali-rolling main non-free contrib\ndeb-src http://http.kali.org/kali kali-rolling main non-free contrib\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 中科大源")]),a._v("\ndeb http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib\ndeb-src http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 阿里云源")]),a._v("\ndeb http://mirrors.aliyun.com/kali kali-rolling main non-free contrib\ndeb-src http://mirrors.aliyun.com/kali kali-rolling main non-free contrib\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 清华大学源")]),a._v("\ndeb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free\ndeb-src https://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 浙大源")]),a._v("\ndeb http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free\ndeb-src http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 东软大学源")]),a._v("\ndeb http://mirrors.neusoft.edu.cn/kali kali-rolling/main non-free contrib\ndeb-src http://mirrors.neusoft.edu.cn/kali kali-rolling/main non-free contrib\n")])])]),s("h3",{attrs:{id:"软件更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#软件更新"}},[a._v("#")]),a._v(" 软件更新")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 更新软件包的索引源（检测可更新的软件）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 检测某个软件是否有更新")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" list --upgradable"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" xxx\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 更新软件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" xxx\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 更新系统上已经安装的所有软件（自动更新并安装软件）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" upgrade\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 更新 Kali Linux 系统（检测并进行系统升级） 一般无需执行")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" dist-upgrade\n")])])]),s("h3",{attrs:{id:"安装谷歌拼音输入法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装谷歌拼音输入法"}},[a._v("#")]),a._v(" 安装谷歌拼音输入法")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" fcitx fcitx-googlepinyin\n")])])]),s("h2",{attrs:{id:"安装-parallels-tools"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-parallels-tools"}},[a._v("#")]),a._v(" 安装 Parallels Tools")]),a._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("p",[a._v("点击 Parallels Desktop 开启的虚拟机的窗口右上角黄色感叹号，安装 Parallels Tools，然后在虚拟机内打开终端，输入")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用root账号")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("su")]),a._v(" -\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 新建pdtools文件夹，再把挂载的内容复制到文件夹里")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" /home/用户/pdtools\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" -R /media/cdrom0 /home/用户/pdtools\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 执行安装")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /home/用户/pdtools\n./install\n")])])]),s("h3",{attrs:{id:"安装时可能出现的错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装时可能出现的错误"}},[a._v("#")]),a._v(" 安装时可能出现的错误")]),a._v(" "),s("h4",{attrs:{id:"一、出现缺少-linux-headers-5-7-0-kali1-amd64"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、出现缺少-linux-headers-5-7-0-kali1-amd64"}},[a._v("#")]),a._v(" 一、出现缺少 linux-headers-5.7.0-kali1-amd64")]),a._v(" "),s("p",[a._v("尝试")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" linux-headers-"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("uname")]),a._v(" -r"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),s("p",[a._v("若失败，去官网下载相应内核版本，官网地址\n"),s("a",{attrs:{href:"http://http.kali.org/kali/pool/main/l/linux/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://http.kali.org/kali/pool/main/l/linux/"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),s("p",[a._v("需要下载 3 个，我是缺少 linux-headers-5.7.0-kali1-amd64，所以我要下载")]),a._v(" "),s("ul",[s("li",[a._v("linux-kbuild-5.7_5.7.6-1kali2_amd64.deb")]),a._v(" "),s("li",[a._v("linux-headers-5.7.0-kali1-common_5.7.6-1kali2_all.deb")]),a._v(" "),s("li",[a._v("linux-headers-5.7.0-kali1-amd64_5.7.6-1kali2_amd64.deb")])])]),a._v(" "),s("p",[a._v("下载完成后，按顺序安装")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("dpkg -i linux-kbuild-5.7_5.7.6-1kali2_amd64.deb\ndpkg -i linux-headers-5.7.0-kali1-common_5.7.6-1kali2_all.deb\ndpkg -i linux-headers-5.7.0-kali1-amd64_5.7.6-1kali2_amd64.deb\n")])])]),s("p",[a._v("安装 linux-headers 时可能会报错提示缺少 linux-compiler-gcc-9-x86，使用 apt 下载缺少的依赖")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 可以先更新一下源")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装缺少的依赖")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" linux-compiler-gcc-9-x86\n")])])]),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[a._v("说明")]),a._v(" "),s("p",[a._v("博主在输入"),s("code",[a._v("apt install linux-compiler-gcc-9-x86")]),a._v("命令后返回"),s("code",[a._v("无法定位软件包")]),a._v("，博主没解决，后来博主通过"),s("code",[a._v("apt list | grep linux-compiler")]),a._v("命令发现系统已有 linux-compiler-gcc-10-x86，判断是 Parallels Desktop 版本太低导致 Parallels Tools 安装需要依赖旧版本的 linux-compiler-gcc，所以博主采用的做法是安装高版本的 Parallels Desktop，博主之前使用的是 15.1.2 版本，改为了 15.1.4 版本后就没出这个问题")])]),a._v(" "),s("p",[a._v("解决问题后，再安装 Parallels Tools")]),a._v(" "),s("h4",{attrs:{id:"二、出现错误提示需要查看-var-log-parallels-tools-install-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、出现错误提示需要查看-var-log-parallels-tools-install-log"}},[a._v("#")]),a._v(" 二、出现错误提示需要查看 /var/log/parallels-tools-install.log")]),a._v(" "),s("p",[a._v("该问题解决转自"),s("a",{attrs:{href:"https://blog.csdn.net/shouxi516/article/details/106367604",target:"_blank",rel:"noopener noreferrer"}},[a._v("CSDN 论坛的"),s("code",[a._v("shouxi516")]),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("出现该问题的原因在于新的 linux 内核修改了一个参数的名字，详情见"),s("a",{attrs:{href:"https://github.com/torvalds/linux/commit/97a32539b9568bb653683349e5a76d02ff3c3e2c",target:"_blank",rel:"noopener noreferrer"}},[a._v("内核修改清单"),s("OutboundLink")],1),a._v("，导致编译时无法调用参数里的结构体。")]),a._v(" "),s("p",[s("code",[a._v("shouxi516")]),a._v("为大家提供了两种解决方法")]),a._v(" "),s("ol",[s("li",[a._v("自己动手修改，修改步骤详见"),s("a",{attrs:{href:"https://blog.csdn.net/shouxi516/article/details/106367604",target:"_blank",rel:"noopener noreferrer"}},[a._v("文章"),s("OutboundLink")],1)]),a._v(" "),s("li",[a._v("他已经打包好了一个修改后的 Parallels Tools 的安装包，直接用就行，链接："),s("a",{attrs:{href:"https://pan.baidu.com/s/1T74lJZC7P2vAzLULhGbmgg",target:"_blank",rel:"noopener noreferrer"}},[a._v("pt for kali-2020.2 or kali-2020.3"),s("OutboundLink")],1),a._v(" 密码: 8khn")])]),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),s("p",[a._v("重启虚拟机后若出现重复弹出安装 Parallels Tools，可以在"),s("code",[a._v("设置->选项->更多选项")]),a._v("里勾掉自动更新 Parallels Tools")])]),a._v(" "),s("h2",{attrs:{id:"清理垃圾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#清理垃圾"}},[a._v("#")]),a._v(" 清理垃圾")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#它会清除已检索包文件的本地仓库，但它只会删除不会再下载且几乎无用的文件。它有助于防止缓存过大")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" autoclean\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#清理系统不再使用的孤立软件，因为某些其他软件包需要它们，但是在删除了其他软件包之后，而不再需要它们")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" autoremove\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#删除所有已下载的安装包的包文件，一般作为定期计划维护的一部分")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" clean\n")])])]),s("h2",{attrs:{id:"安装更多工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装更多工具"}},[a._v("#")]),a._v(" 安装更多工具")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" -y "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" kali-linux-large\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);